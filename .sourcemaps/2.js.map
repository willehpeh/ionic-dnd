{"version":3,"sources":["../../src/pages/spells/create-spell/create-spell.module.ts","../../src/pages/spells/create-spell/create-spell.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CreateSpellPage } from \"./create-spell\";\n\n@NgModule({\n  declarations: [\n    CreateSpellPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CreateSpellPage),\n  ],\n  exports: [\n    CreateSpellPage\n  ]\n})\nexport class CreateSpellPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/spells/create-spell/create-spell.module.ts","import { Component } from '@angular/core';\nimport {NavController, IonicPage, ToastController, LoadingController} from 'ionic-angular';\nimport {FormBuilder, FormGroup, Validators} from \"@angular/forms\";\nimport {SpellsService} from \"../../../services/spells.service\";\n\n@IonicPage()\n@Component({\n  selector: 'page-create-spell',\n  templateUrl: 'create-spell.html'\n})\nexport class CreateSpellPage {\n\n  spellForm: FormGroup;\n  rangeDistanceEnabled: boolean = true;\n  materialTypeEnabled: boolean = false;\n  durationEnabled: boolean = true;\n  higherLevelsEnabled: boolean = false;\n\n  constructor(\n    public navCtrl: NavController,\n    public formBuilder: FormBuilder,\n    public spellsService: SpellsService,\n    public toastCtrl: ToastController,\n    public loadingCtrl: LoadingController) {\n\n    this.buildForm();\n    this.watchChanges();\n  }\n\n  buildForm() {\n    this.spellForm = this.formBuilder.group({\n      name: ['', Validators.required],\n      school: ['', Validators.required],\n      level: ['', Validators.required],\n      ritual: false,\n      casting: this.formBuilder.group({\n        amount: 1,\n        unit: 'actions'\n      }),\n      range: this.formBuilder.group({\n        self: false,\n        touch: false,\n        distance: ''\n      }),\n      components: this.formBuilder.group({\n        verbal: false,\n        somatic: false,\n        material: false,\n        materialType: ''\n      }),\n      duration: this.formBuilder.group({\n        instantaneous: false,\n        concentration: false,\n        amount: '',\n        unit: ''\n      }),\n      description: '',\n      higherLevel: false,\n      higherLevelDescription: '',\n      availableTo: this.formBuilder.group({\n        bard: false,\n        cleric: false,\n        druid: false,\n        paladin: false,\n        ranger: false,\n        sorcerer: false,\n        warlock: false,\n        wizard: false\n      })\n    });\n  }\n\n  watchChanges() {\n    let range = this.spellForm.get('range');\n    range.valueChanges.forEach(\n      () => {\n        if(range.get('self').value || range.get('touch').value) {\n          this.rangeDistanceEnabled = false;\n        }\n        else {\n          this.rangeDistanceEnabled = true;\n        }\n      }\n    );\n    let components = this.spellForm.get('components');\n    components.valueChanges.forEach(\n      () => {\n        if(components.get('material').value) {\n          this.materialTypeEnabled = true;\n        }\n        else {\n          this.materialTypeEnabled = false;\n        }\n      }\n    );\n    let duration = this.spellForm.get('duration');\n    duration.valueChanges.forEach(\n      () => {\n        if(duration.get('instantaneous').value) {\n          this.durationEnabled = false;\n        }\n        else {\n          this.durationEnabled = true;\n        }\n      }\n    );\n    let higherLevel = this.spellForm.get('higherLevel');\n    higherLevel.valueChanges.forEach(\n      (value) => {\n        this.higherLevelsEnabled = value;\n      }\n    );\n  }\n\n  submitForm() {\n    let loader = this.loadingCtrl.create({\n      content: 'Saving spellâ€¦'\n    });\n    loader.present();\n    this.spellsService.addNewSpell(this.spellForm.value).then(\n      () => {\n        this.resetForm();\n        loader.dismiss();\n        this.toastCtrl.create({\n          message: 'Spell added successfully',\n          duration: 2000,\n          position: \"bottom\"\n        }).present();\n      }, (error) => {\n        console.log(\"submitForm error! \" + error);\n      }\n    );\n  }\n\n  resetForm() {\n    this.spellForm.reset();\n    this.spellForm.get('casting').setValue({\n      amount: 1,\n      unit: 'actions'\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/spells/create-spell/create-spell.ts"],"sourceRoot":""}